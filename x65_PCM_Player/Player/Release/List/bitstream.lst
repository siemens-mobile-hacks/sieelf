##############################################################################
#                                                                            #
# IAR ARM ANSI C/C++ Compiler V4.42A/W32 EVALUATION    14/Feb/2012  15:39:35 #
# Copyright 1999-2005 IAR Systems. All rights reserved.                      #
#                                                                            #
#    Cpu mode        =  interwork                                            #
#    Endian          =  little                                               #
#    Stack alignment =  4                                                    #
#    Source file     =  D:\SVN\SieELF\SieELF\x65_PCM_Player\Player\MP3\mp3de #
#                       c\bitstream.c                                        #
#    Command line    =  D:\SVN\SieELF\SieELF\x65_PCM_Player\Player\MP3\mp3de #
#                       c\bitstream.c -D NDEBUG -lC                          #
#                       D:\SVN\SieELF\SieELF\x65_PCM_Player\Player\Release\L #
#                       ist\ -lA D:\SVN\SieELF\SieELF\x65_PCM_Player\Player\ #
#                       Release\List\ -o D:\SVN\SieELF\SieELF\x65_PCM_Player #
#                       \Player\Release\Obj\ -s9 --cpu_mode arm --endian     #
#                       little --cpu ARM926EJ-S --stack_align 4 --interwork  #
#                       -e --fpu None --dlib_config "D:\Program              #
#                       Files\IAR\Embedded Workbench 4.0                     #
#                       Evaluation\ARM\LIB\dl5tpainl8n.h" --preinclude       #
#                       swilib.h -I "D:\Program Files\IAR\Embedded           #
#                       Workbench 4.0 Evaluation\ARM\INC\"                   #
#                       --inline_threshold=16                                #
#    List file       =  D:\SVN\SieELF\SieELF\x65_PCM_Player\Player\Release\L #
#                       ist\bitstream.lst                                    #
#    Object file     =  D:\SVN\SieELF\SieELF\x65_PCM_Player\Player\Release\O #
#                       bj\bitstream.r79                                     #
#                                                                            #
#                                                                            #
##############################################################################

D:\SVN\SieELF\SieELF\x65_PCM_Player\Player\MP3\mp3dec\bitstream.c
      1          /* ***** BEGIN LICENSE BLOCK *****
                                                  ^
Warning[Pa050]: non-native end of line sequence detected (this diagnostic is
          only issued once)
      2           * Version: RCSL 1.0/RPSL 1.0
      3           *
      4           * Portions Copyright (c) 1995-2002 RealNetworks, Inc. All Rights Reserved.
      5           *
      6           * The contents of this file, and the files included with this file, are
      7           * subject to the current version of the RealNetworks Public Source License
      8           * Version 1.0 (the "RPSL") available at
      9           * http://www.helixcommunity.org/content/rpsl unless you have licensed
     10           * the file under the RealNetworks Community Source License Version 1.0
     11           * (the "RCSL") available at http://www.helixcommunity.org/content/rcsl,
     12           * in which case the RCSL will apply. You may also obtain the license terms
     13           * directly from RealNetworks.  You may not use this file except in
     14           * compliance with the RPSL or, if you have a valid RCSL with RealNetworks
     15           * applicable to this file, the RCSL.  Please see the applicable RPSL or
     16           * RCSL for the rights, obligations and limitations governing use of the
     17           * contents of the file.
     18           *
     19           * This file is part of the Helix DNA Technology. RealNetworks is the
     20           * developer of the Original Code and owns the copyrights in the portions
     21           * it created.
     22           *
     23           * This file, and the files included with this file, is distributed and made
     24           * available on an 'AS IS' basis, WITHOUT WARRANTY OF ANY KIND, EITHER
     25           * EXPRESS OR IMPLIED, AND REALNETWORKS HEREBY DISCLAIMS ALL SUCH WARRANTIES,
     26           * INCLUDING WITHOUT LIMITATION, ANY WARRANTIES OF MERCHANTABILITY, FITNESS
     27           * FOR A PARTICULAR PURPOSE, QUIET ENJOYMENT OR NON-INFRINGEMENT.
     28           *
     29           * Technology Compatibility Kit Test Suite(s) Location:
     30           *    http://www.helixcommunity.org/content/tck
     31           *
     32           * Contributor(s):
     33           *
     34           * ***** END LICENSE BLOCK ***** */
     35          
     36          /**************************************************************************************
     37           * Fixed-point MP3 decoder
     38           * Jon Recker (jrecker@real.com), Ken Cooke (kenc@real.com)
     39           * June 2003
     40           *
     41           * bitstream.c - bitstream unpacking, frame header parsing, side info parsing
     42           **************************************************************************************/
     43          
     44          #include "coder.h"
     45          #include "assembly.h"
     46          
     47          /**************************************************************************************
     48           * Function:    SetBitstreamPointer
     49           *
     50           * Description: initialize bitstream reader
     51           *
     52           * Inputs:      pointer to BitStreamInfo struct
     53           *              number of bytes in bitstream
     54           *              pointer to byte-aligned buffer of data to read from
     55           *
     56           * Outputs:     filled bitstream info struct
     57           *
     58           * Return:      none
     59           **************************************************************************************/

   \                                 In segment CODE, align 4, keep-with-next
     60          void SetBitstreamPointer(BitStreamInfo *bsi, int nBytes, unsigned char *buf)
     61          {
     62          	/* init bitstream */
     63          	bsi->bytePtr = buf;
   \                     xmp3_SetBitstreamPointer:
   \   00000000   002080E5           STR      R2,[R0, #+0]
     64          	bsi->iCache = 0;		/* 4-byte unsigned int */
   \   00000004   0020A0E3           MOV      R2,#+0
   \   00000008   042080E5           STR      R2,[R0, #+4]
     65          	bsi->cachedBits = 0;	/* i.e. zero bits in cache */
   \   0000000C   082080E5           STR      R2,[R0, #+8]
     66          	bsi->nBytes = nBytes;
   \   00000010   0C1080E5           STR      R1,[R0, #+12]
     67          }
   \   00000014   1EFF2FE1           BX       LR               ;; return
     68          
     69          /**************************************************************************************
     70           * Function:    RefillBitstreamCache
     71           *
     72           * Description: read new data from bitstream buffer into bsi cache
     73           *
     74           * Inputs:      pointer to initialized BitStreamInfo struct
     75           *
     76           * Outputs:     updated bitstream info struct
     77           *
     78           * Return:      none
     79           *
     80           * Notes:       only call when iCache is completely drained (resets bitOffset to 0)
     81           *              always loads 4 new bytes except when bsi->nBytes < 4 (end of buffer)
     82           *              stores data as big-endian in cache, regardless of machine endian-ness
     83           *
     84           * TODO:        optimize for ARM
     85           *              possibly add little/big-endian modes for doing 32-bit loads
     86           **************************************************************************************/

   \                                 In segment CODE, align 4, keep-with-next
     87          static  void RefillBitstreamCache(BitStreamInfo *bsi)
     88          {
   \                     RefillBitstreamCache:
   \   00000000   10002DE9           PUSH     {R4}
     89          	int nBytes = bsi->nBytes;
   \   00000004   0C1090E5           LDR      R1,[R0, #+12]
   \   00000008   0130A0E1           MOV      R3,R1
     90          
     91          	/* optimize for common case, independent of machine endian-ness */
     92          	if (nBytes >= 4) {
   \   0000000C   040053E3           CMP      R3,#+4
   \   00000010   1C0000BA           BLT      ??RefillBitstreamCache_0
     93          		bsi->iCache  = (*bsi->bytePtr++) << 24;
   \   00000014   002090E5           LDR      R2,[R0, #+0]
     94          		bsi->iCache |= (*bsi->bytePtr++) << 16;
     95          		bsi->iCache |= (*bsi->bytePtr++) <<  8;
     96          		bsi->iCache |= (*bsi->bytePtr++);
     97          		bsi->cachedBits = 32;
     98          		bsi->nBytes -= 4;
   \   00000018   041041E2           SUB      R1,R1,#+4
   \   0000001C   013082E2           ADD      R3,R2,#+1
   \   00000020   003080E5           STR      R3,[R0, #+0]
   \   00000024   0020D2E5           LDRB     R2,[R2, #+0]
   \   00000028   022CA0E1           LSL      R2,R2,#+24
   \   0000002C   042080E5           STR      R2,[R0, #+4]
   \   00000030   0320A0E1           MOV      R2,R3
   \   00000034   013082E2           ADD      R3,R2,#+1
   \   00000038   003080E5           STR      R3,[R0, #+0]
   \   0000003C   0020D2E5           LDRB     R2,[R2, #+0]
   \   00000040   043090E5           LDR      R3,[R0, #+4]
   \   00000044   022883E1           ORR      R2,R3,R2, LSL #+16
   \   00000048   042080E5           STR      R2,[R0, #+4]
   \   0000004C   003090E5           LDR      R3,[R0, #+0]
   \   00000050   01C083E2           ADD      R12,R3,#+1
   \   00000054   00C080E5           STR      R12,[R0, #+0]
   \   00000058   0030D3E5           LDRB     R3,[R3, #+0]
   \   0000005C   032482E1           ORR      R2,R2,R3, LSL #+8
   \   00000060   042080E5           STR      R2,[R0, #+4]
   \   00000064   0C30A0E1           MOV      R3,R12
   \   00000068   01C083E2           ADD      R12,R3,#+1
   \   0000006C   00C080E5           STR      R12,[R0, #+0]
   \   00000070   0030D3E5           LDRB     R3,[R3, #+0]
   \   00000074   022083E1           ORR      R2,R3,R2
   \   00000078   042080E5           STR      R2,[R0, #+4]
   \   0000007C   2030A0E3           MOV      R3,#+32
   \   00000080   0C1080E5           STR      R1,[R0, #+12]
   \   00000084   160000EA           B        ??RefillBitstreamCache_1
     99          	} else {
    100          		bsi->iCache = 0;
   \                     ??RefillBitstreamCache_0:
   \   00000088   0020A0E3           MOV      R2,#+0
   \   0000008C   042080E5           STR      R2,[R0, #+4]
   \   00000090   070000EA           B        ??RefillBitstreamCache_2
    101          		while (nBytes--) {
    102          			bsi->iCache |= (*bsi->bytePtr++);
   \                     ??RefillBitstreamCache_3:
   \   00000094   00C090E5           LDR      R12,[R0, #+0]
   \   00000098   01408CE2           ADD      R4,R12,#+1
   \   0000009C   004080E5           STR      R4,[R0, #+0]
    103          			bsi->iCache <<= 8;
   \   000000A0   00C0DCE5           LDRB     R12,[R12, #+0]
   \   000000A4   044090E5           LDR      R4,[R0, #+4]
   \   000000A8   04408CE1           ORR      R4,R12,R4
   \   000000AC   0444A0E1           LSL      R4,R4,#+8
   \   000000B0   044080E5           STR      R4,[R0, #+4]
    104          		}
   \                     ??RefillBitstreamCache_2:
   \   000000B4   03C0A0E1           MOV      R12,R3
   \   000000B8   01304CE2           SUB      R3,R12,#+1
   \   000000BC   00005CE3           CMP      R12,#+0
   \   000000C0   F3FFFF1A           BNE      ??RefillBitstreamCache_3
    105          		bsi->iCache <<= ((3 - bsi->nBytes)*8);
   \   000000C4   043090E5           LDR      R3,[R0, #+4]
   \   000000C8   0140A0E1           MOV      R4,R1
   \   000000CC   034064E2           RSB      R4,R4,#+3
   \   000000D0   8441A0E1           LSL      R4,R4,#+3
   \   000000D4   1334A0E1           LSL      R3,R3,R4
   \   000000D8   043080E5           STR      R3,[R0, #+4]
    106          		bsi->cachedBits = 8*bsi->nBytes;
   \   000000DC   8131A0E1           LSL      R3,R1,#+3
    107          		bsi->nBytes = 0;
   \   000000E0   0C2080E5           STR      R2,[R0, #+12]
   \                     ??RefillBitstreamCache_1:
   \   000000E4   083080E5           STR      R3,[R0, #+8]
    108          	}
    109          }
   \   000000E8   1000BDE8           POP      {R4}
   \   000000EC   1EFF2FE1           BX       LR               ;; return
    110          
    111          /**************************************************************************************
    112           * Function:    GetBits
    113           *
    114           * Description: get bits from bitstream, advance bitstream pointer
    115           *
    116           * Inputs:      pointer to initialized BitStreamInfo struct
    117           *              number of bits to get from bitstream
    118           *
    119           * Outputs:     updated bitstream info struct
    120           *
    121           * Return:      the next nBits bits of data from bitstream buffer
    122           *
    123           * Notes:       nBits must be in range [0, 31], nBits outside this range masked by 0x1f
    124           *              for speed, does not indicate error if you overrun bit buffer
    125           *              if nBits = 0, returns 0 (useful for scalefactor unpacking)
    126           *
    127           * TODO:        optimize for ARM
    128           **************************************************************************************/

   \                                 In segment CODE, align 4, keep-with-next
    129          unsigned int GetBits(BitStreamInfo *bsi, int nBits)
    130          {
   \                     xmp3_GetBits:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    131          	unsigned int data, lowBits;
    132          
    133          	nBits &= 0x1f;							/* nBits mod 32 to avoid unpredictable results like >> by negative amount */
   \   00000008   1F0001E2           AND      R0,R1,#0x1F
    134          	data = bsi->iCache >> (31 - nBits);		/* unsigned >> so zero-extend */
    135          	data >>= 1;								/* do as >> 31, >> 1 so that nBits = 0 works okay (returns 0) */
   \   0000000C   041094E5           LDR      R1,[R4, #+4]
   \   00000010   0020A0E1           MOV      R2,R0
   \   00000014   1F2062E2           RSB      R2,R2,#+31
   \   00000018   3122A0E1           LSR      R2,R1,R2
    136          	bsi->iCache <<= nBits;					/* left-justify cache */
   \   0000001C   1110A0E1           LSL      R1,R1,R0
   \   00000020   041084E5           STR      R1,[R4, #+4]
    137          	bsi->cachedBits -= nBits;				/* how many bits have we drawn from the cache so far */
   \   00000024   081094E5           LDR      R1,[R4, #+8]
   \   00000028   A250A0E1           LSR      R5,R2,#+1
   \   0000002C   000051E0           SUBS     R0,R1,R0
   \   00000030   080084E5           STR      R0,[R4, #+8]
    138          
    139          	/* if we cross an int boundary, refill the cache */
    140          	if (bsi->cachedBits < 0) {
   \   00000034   0B00005A           BPL      ??xmp3_GetBits_0
    141          		lowBits = -bsi->cachedBits;
   \   00000038   006060E2           RSB      R6,R0,#+0
    142          		RefillBitstreamCache(bsi);
   \   0000003C   0400A0E1           MOV      R0,R4
   \   00000040   ........           BL       RefillBitstreamCache
    143          		data |= bsi->iCache >> (32 - lowBits);		/* get the low-order bits */
   \   00000044   040094E5           LDR      R0,[R4, #+4]
   \   00000048   0610A0E1           MOV      R1,R6
   \   0000004C   201061E2           RSB      R1,R1,#+32
   \   00000050   305185E1           ORR      R5,R5,R0, LSR R1
    144          
    145          		bsi->cachedBits -= lowBits;			/* how many bits have we drawn from the cache so far */
   \   00000054   081094E5           LDR      R1,[R4, #+8]
    146          		bsi->iCache <<= lowBits;			/* left-justify cache */
   \   00000058   1006A0E1           LSL      R0,R0,R6
   \   0000005C   061041E0           SUB      R1,R1,R6
   \   00000060   081084E5           STR      R1,[R4, #+8]
   \   00000064   040084E5           STR      R0,[R4, #+4]
    147          	}
    148          
    149          	return data;
   \                     ??xmp3_GetBits_0:
   \   00000068   0500A0E1           MOV      R0,R5
   \   0000006C   7080BDE8           POP      {R4-R6,PC}       ;; return
    150          }
    151          
    152          /**************************************************************************************
    153           * Function:    CalcBitsUsed
    154           *
    155           * Description: calculate how many bits have been read from bitstream
    156           *
    157           * Inputs:      pointer to initialized BitStreamInfo struct
    158           *              pointer to start of bitstream buffer
    159           *              bit offset into first byte of startBuf (0-7)
    160           *
    161           * Outputs:     none
    162           *
    163           * Return:      number of bits read from bitstream, as offset from startBuf:startOffset
    164           **************************************************************************************/

   \                                 In segment CODE, align 4, keep-with-next
    165          int CalcBitsUsed(BitStreamInfo *bsi, unsigned char *startBuf, int startOffset)
    166          {
    167          	int bitsUsed;
    168          
    169          	bitsUsed  = (bsi->bytePtr - startBuf) * 8;
    170          	bitsUsed -= bsi->cachedBits;
    171          	bitsUsed -= startOffset;
    172          
    173          	return bitsUsed;
   \                     xmp3_CalcBitsUsed:
   \   00000000   003090E5           LDR      R3,[R0, #+0]
   \   00000004   080090E5           LDR      R0,[R0, #+8]
   \   00000008   011043E0           SUB      R1,R3,R1
   \   0000000C   810160E0           RSB      R0,R0,R1, LSL #+3
   \   00000010   020040E0           SUB      R0,R0,R2
   \   00000014   1EFF2FE1           BX       LR               ;; return
    174          }
    175          
    176          /**************************************************************************************
    177           * Function:    CheckPadBit
    178           *
    179           * Description: check whether padding byte is present in an MP3 frame
    180           *
    181           * Inputs:      MP3DecInfo struct with valid FrameHeader struct
    182           *                (filled by UnpackFrameHeader())
    183           *
    184           * Outputs:     none
    185           *
    186           * Return:      1 if pad bit is set, 0 if not, -1 if null input pointer
    187           **************************************************************************************/

   \                                 In segment CODE, align 4, keep-with-next
    188          int CheckPadBit(MP3DecInfo *mp3DecInfo)
    189          {
    190          	FrameHeader *fh;
    191          
    192          	/* validate pointers */
    193          	if (!mp3DecInfo || !mp3DecInfo->FrameHeaderPS)
   \                     xmp3_CheckPadBit:
   \   00000000   000050E3           CMP      R0,#+0
   \   00000004   00009015           LDRNE    R0,[R0, #+0]
   \   00000008   00005013           CMPNE    R0,#+0
    194          		return -1;
   \   0000000C   0000E003           MVNEQ    R0,#+0
   \   00000010   1EFF2F01           BXEQ     LR
    195          
    196          	fh = ((FrameHeader *)(mp3DecInfo->FrameHeaderPS));
    197          
    198          	return (fh->paddingBit ? 1 : 0);
   \   00000014   140090E5           LDR      R0,[R0, #+20]
   \   00000018   000050E3           CMP      R0,#+0
   \   0000001C   0100A013           MOVNE    R0,#+1
   \   00000020   1EFF2FE1           BX       LR               ;; return
    199          }
    200          
    201          /**************************************************************************************
    202           * Function:    UnpackFrameHeader
    203           *
    204           * Description: parse the fields of the MP3 frame header
    205           *
    206           * Inputs:      buffer pointing to a complete MP3 frame header (4 bytes, plus 2 if CRC)
    207           *
    208           * Outputs:     filled frame header info in the MP3DecInfo structure
    209           *              updated platform-specific FrameHeader struct
    210           *
    211           * Return:      length (in bytes) of frame header (for caller to calculate offset to
    212           *                first byte following frame header)
    213           *              -1 if null frameHeader or invalid header
    214           *
    215           * TODO:        check for valid modes, depending on capabilities of decoder
    216           *              test CRC on actual stream (verify no endian problems)
    217           **************************************************************************************/

   \                                 In segment CODE, align 4, keep-with-next
    218          int UnpackFrameHeader(MP3DecInfo *mp3DecInfo, unsigned char *buf)
    219          {
   \                     xmp3_UnpackFrameHeader:
   \   00000000   F0472DE9           PUSH     {R4-R10,LR}
   \   00000004   0020A0E1           MOV      R2,R0
    220          
    221          	int verIdx;
    222          	FrameHeader *fh;
    223          
    224          	/* validate pointers and sync word */
    225          	if (!mp3DecInfo || !mp3DecInfo->FrameHeaderPS || (buf[0] & SYNCWORDH) != SYNCWORDH || (buf[1] & SYNCWORDL) != SYNCWORDL)
   \   00000008   000052E3           CMP      R2,#+0
   \   0000000C   00409215           LDRNE    R4,[R2, #+0]
   \   00000010   0130A0E1           MOV      R3,R1
   \   00000014   00005413           CMPNE    R4,#+0
   \   00000018   0600000A           BEQ      ??xmp3_UnpackFrameHeader_0
   \   0000001C   0000D3E5           LDRB     R0,[R3, #+0]
   \   00000020   FF0050E3           CMP      R0,#+255
   \   00000024   0300001A           BNE      ??xmp3_UnpackFrameHeader_0
   \   00000028   0100D3E5           LDRB     R0,[R3, #+1]
   \   0000002C   E00000E2           AND      R0,R0,#0xE0
   \   00000030   E00050E3           CMP      R0,#+224
   \   00000034   0100000A           BEQ      ??xmp3_UnpackFrameHeader_1
    226          		return -1;
   \                     ??xmp3_UnpackFrameHeader_0:
   \   00000038   0000E0E3           MVN      R0,#+0
   \   0000003C   F087BDE8           POP      {R4-R10,PC}
    227          
    228          	fh = ((FrameHeader *)(mp3DecInfo->FrameHeaderPS));
    229          
    230          	/* read header fields - use bitmasks instead of GetBits() for speed, since format never varies */
    231          	verIdx =         (buf[1] >> 3) & 0x03;
   \                     ??xmp3_UnpackFrameHeader_1:
   \   00000040   0100D3E5           LDRB     R0,[R3, #+1]
   \   00000044   0310A0E3           MOV      R1,#+3
   \   00000048   C00111E0           ANDS     R0,R1,R0, ASR #+3
    232          	fh->ver =        (MPEGVersion)( verIdx == 0 ? MPEG25 : ((verIdx & 0x01) ? MPEG1 : MPEG2) );
   \   0000004C   0200A003           MOVEQ    R0,#+2
   \   00000050   01000012           ANDNE    R0,R0,#0x1
   \   00000054   01002012           EORNE    R0,R0,#0x1
   \   00000058   0000C4E5           STRB     R0,[R4, #+0]
    233          	fh->layer = 4 - ((buf[1] >> 1) & 0x03);     /* easy mapping of index to layer number, 4 = error */
   \   0000005C   0100D3E5           LDRB     R0,[R3, #+1]
   \   00000060   C00001E0           AND      R0,R1,R0, ASR #+1
   \   00000064   040060E2           RSB      R0,R0,#+4
   \   00000068   040084E5           STR      R0,[R4, #+4]
    234          	fh->crc =   1 - ((buf[1] >> 0) & 0x01);
   \   0000006C   0100D3E5           LDRB     R0,[R3, #+1]
   \   00000070   010000E2           AND      R0,R0,#0x1
   \   00000074   010060E2           RSB      R0,R0,#+1
   \   00000078   080084E5           STR      R0,[R4, #+8]
    235          	fh->brIdx =      (buf[2] >> 4) & 0x0f;
   \   0000007C   0200D3E5           LDRB     R0,[R3, #+2]
   \   00000080   2002A0E1           LSR      R0,R0,#+4
   \   00000084   0C0084E5           STR      R0,[R4, #+12]
    236          	fh->srIdx =      (buf[2] >> 2) & 0x03;
   \   00000088   0200D3E5           LDRB     R0,[R3, #+2]
   \   0000008C   400101E0           AND      R0,R1,R0, ASR #+2
   \   00000090   100084E5           STR      R0,[R4, #+16]
    237          	fh->paddingBit = (buf[2] >> 1) & 0x01;
   \   00000094   0200D3E5           LDRB     R0,[R3, #+2]
   \   00000098   0110A0E3           MOV      R1,#+1
   \   0000009C   C00001E0           AND      R0,R1,R0, ASR #+1
   \   000000A0   140084E5           STR      R0,[R4, #+20]
    238          	fh->privateBit = (buf[2] >> 0) & 0x01;
   \   000000A4   0200D3E5           LDRB     R0,[R3, #+2]
    239          	fh->sMode =      (StereoMode)((buf[3] >> 6) & 0x03);      /* maps to correct enum (see definition) */
    240          	fh->modeExt =    (buf[3] >> 4) & 0x03;
   \   000000A8   0310A0E3           MOV      R1,#+3
   \   000000AC   010000E2           AND      R0,R0,#0x1
   \   000000B0   180084E5           STR      R0,[R4, #+24]
   \   000000B4   0300D3E5           LDRB     R0,[R3, #+3]
   \   000000B8   2003A0E1           LSR      R0,R0,#+6
   \   000000BC   1C00C4E5           STRB     R0,[R4, #+28]
   \   000000C0   0300D3E5           LDRB     R0,[R3, #+3]
   \   000000C4   400201E0           AND      R0,R1,R0, ASR #+4
   \   000000C8   200084E5           STR      R0,[R4, #+32]
    241          	fh->copyFlag =   (buf[3] >> 3) & 0x01;
   \   000000CC   0300D3E5           LDRB     R0,[R3, #+3]
   \   000000D0   0110A0E3           MOV      R1,#+1
   \   000000D4   C00101E0           AND      R0,R1,R0, ASR #+3
   \   000000D8   240084E5           STR      R0,[R4, #+36]
    242          	fh->origFlag =   (buf[3] >> 2) & 0x01;
   \   000000DC   0300D3E5           LDRB     R0,[R3, #+3]
   \   000000E0   400101E0           AND      R0,R1,R0, ASR #+2
   \   000000E4   280084E5           STR      R0,[R4, #+40]
    243          	fh->emphasis =   (buf[3] >> 0) & 0x03;
   \   000000E8   0300D3E5           LDRB     R0,[R3, #+3]
   \   000000EC   030000E2           AND      R0,R0,#0x3
   \   000000F0   2C0084E5           STR      R0,[R4, #+44]
    244          
    245          	/* check parameters to avoid indexing tables with bad values */
    246          	if (fh->srIdx == 3 || fh->layer == 4 || fh->brIdx == 15)
   \   000000F4   100094E5           LDR      R0,[R4, #+16]
   \   000000F8   030050E3           CMP      R0,#+3
   \   000000FC   04109415           LDRNE    R1,[R4, #+4]
   \   00000100   04005113           CMPNE    R1,#+4
   \   00000104   0C109415           LDRNE    R1,[R4, #+12]
   \   00000108   0F005113           CMPNE    R1,#+15
   \   0000010C   C9FFFF0A           BEQ      ??xmp3_UnpackFrameHeader_0
    247          		return -1;
    248          
    249          	fh->sfBand = &sfBandTable[fh->ver][fh->srIdx];	/* for readability (we reference sfBandTable many times in decoder) */
   \   00000110   0050D4E5           LDRB     R5,[R4, #+0]
   \   00000114   7C719FE5           LDR      R7,??xmp3_UnpackFrameHeader_2  ;; xmp3_sfBandTable
   \   00000118   4A10A0E3           MOV      R1,#+74
   \   0000011C   DE60A0E3           MOV      R6,#+222
   \   00000120   967525E0           MLA      R5,R6,R5,R7
    250          	if (fh->sMode != Joint)		/* just to be safe (dequant, stproc check fh->modeExt) */
    251          		fh->modeExt = 0;
    252          
    253          	/* init user-accessible data */
    254          	mp3DecInfo->nChans = (fh->sMode == Mono ? 1 : 2);
    255          	mp3DecInfo->samprate = samplerateTab[fh->ver][fh->srIdx];
   \   00000124   70719FE5           LDR      R7,??xmp3_UnpackFrameHeader_2+0x4  ;; xmp3_samplerateTab
   \   00000128   915020E0           MLA      R0,R1,R0,R5
   \   0000012C   0050A0E3           MOV      R5,#+0
   \   00000130   340084E5           STR      R0,[R4, #+52]
   \   00000134   1C00D4E5           LDRB     R0,[R4, #+28]
   \   00000138   0C60A0E3           MOV      R6,#+12
   \   0000013C   010050E3           CMP      R0,#+1
   \   00000140   20508415           STRNE    R5,[R4, #+32]
   \   00000144   030050E3           CMP      R0,#+3
   \   00000148   0100A003           MOVEQ    R0,#+1
   \   0000014C   0200A013           MOVNE    R0,#+2
   \   00000150   BC0782E5           STR      R0,[R2, #+1980]
   \   00000154   0010D4E5           LDRB     R1,[R4, #+0]
   \   00000158   100094E5           LDR      R0,[R4, #+16]
   \   0000015C   967121E0           MLA      R1,R6,R1,R7
    256          	mp3DecInfo->nGrans = (fh->ver == MPEG1 ? NGRANS_MPEG1 : NGRANS_MPEG2);
    257          	mp3DecInfo->nGranSamps = ((int)samplesPerFrameTab[fh->ver][fh->layer - 1]) / mp3DecInfo->nGrans;
   \   00000160   38719FE5           LDR      R7,??xmp3_UnpackFrameHeader_2+0x8  ;; xmp3_samplesPerFrameTab
   \   00000164   000191E7           LDR      R0,[R1, +R0, LSL #+2]
   \   00000168   0660A0E3           MOV      R6,#+6
   \   0000016C   C00782E5           STR      R0,[R2, #+1984]
   \   00000170   0000D4E5           LDRB     R0,[R4, #+0]
   \   00000174   000050E3           CMP      R0,#+0
   \   00000178   0200A003           MOVEQ    R0,#+2
   \   0000017C   0100A013           MOVNE    R0,#+1
   \   00000180   C40782E5           STR      R0,[R2, #+1988]
   \   00000184   0010D4E5           LDRB     R1,[R4, #+0]
   \   00000188   040094E5           LDR      R0,[R4, #+4]
   \   0000018C   967121E0           MLA      R1,R6,R1,R7
   \   00000190   800081E0           ADD      R0,R1,R0, LSL #+1
   \   00000194   F20050E1           LDRSH    R0,[R0, #-2]
   \   00000198   C41792E5           LDR      R1,[R2, #+1988]
   \   0000019C   ........           _BLF     ??div32_a,??rA??div32_a
   \   000001A0   C81782E5           STR      R1,[R2, #+1992]
    258          	mp3DecInfo->layer = fh->layer;
   \   000001A4   040094E5           LDR      R0,[R4, #+4]
   \   000001A8   D00782E5           STR      R0,[R2, #+2000]
    259          	mp3DecInfo->version = fh->ver;
   \   000001AC   0000D4E5           LDRB     R0,[R4, #+0]
   \   000001B0   D407C2E5           STRB     R0,[R2, #+2004]
    260          
    261          	/* get bitrate and nSlots from table, unless brIdx == 0 (free mode) in which case caller must figure it out himself
    262          	 * question - do we want to overwrite mp3DecInfo->bitrate with 0 each time if it's free mode, and
    263          	 *  copy the pre-calculated actual free bitrate into it in mp3dec.c (according to the spec,
    264          	 *  this shouldn't be necessary, since it should be either all frames free or none free)
    265          	 */
    266          	if (fh->brIdx) {
   \   000001B4   0C0094E5           LDR      R0,[R4, #+12]
   \   000001B8   000050E3           CMP      R0,#+0
   \   000001BC   2900000A           BEQ      ??xmp3_UnpackFrameHeader_3
    267          		mp3DecInfo->bitrate = ((int)bitrateTab[fh->ver][fh->layer - 1][fh->brIdx]) * 1000;
   \   000001C0   0070D4E5           LDRB     R7,[R4, #+0]
   \   000001C4   041094E5           LDR      R1,[R4, #+4]
   \   000001C8   D4E09FE5           LDR      LR,??xmp3_UnpackFrameHeader_2+0xC  ;; xmp3_bitrateTab
   \   000001CC   1E60A0E3           MOV      R6,#+30
    268          
    269          		/* nSlots = total frame bytes (from table) - sideInfo bytes - header - CRC (if present) + pad (if present) */
    270          		mp3DecInfo->nSlots = (int)slotTab[fh->ver][fh->srIdx][fh->brIdx] -
    271          			(int)sideBytesTab[fh->ver][(fh->sMode == Mono ? 0 : 1)] -
    272          			4 - (fh->crc ? 2 : 0) + (fh->paddingBit ? 1 : 0);
   \   000001D0   D0A09FE5           LDR      R10,??xmp3_UnpackFrameHeader_2+0x10  ;; xmp3_slotTab
   \   000001D4   5AC0A0E3           MOV      R12,#+90
   \   000001D8   9CE727E0           MLA      R7,R12,R7,LR
   \   000001DC   5A90A0E3           MOV      R9,#+90
   \   000001E0   967121E0           MLA      R1,R6,R1,R7
   \   000001E4   1E70A0E3           MOV      R7,#+30
   \   000001E8   800081E0           ADD      R0,R1,R0, LSL #+1
   \   000001EC   FE0150E1           LDRSH    R0,[R0, #-30]
   \   000001F0   FA1FA0E3           MOV      R1,#+1000
   \   000001F4   910000E0           MUL      R0,R1,R0
   \   000001F8   B80782E5           STR      R0,[R2, #+1976]
   \   000001FC   1C00D4E5           LDRB     R0,[R4, #+28]
   \   00000200   00E0D4E5           LDRB     LR,[R4, #+0]
   \   00000204   081094E5           LDR      R1,[R4, #+8]
   \   00000208   146094E5           LDR      R6,[R4, #+20]
   \   0000020C   108094E5           LDR      R8,[R4, #+16]
   \   00000210   030050E3           CMP      R0,#+3
   \   00000214   0000A003           MOVEQ    R0,#+0
   \   00000218   0100A013           MOVNE    R0,#+1
   \   0000021C   000051E3           CMP      R1,#+0
   \   00000220   0210A013           MOVNE    R1,#+2
   \   00000224   000056E3           CMP      R6,#+0
   \   00000228   0C6094E5           LDR      R6,[R4, #+12]
   \   0000022C   99AE2AE0           MLA      R10,R9,LR,R10
   \   00000230   01C0A013           MOVNE    R12,#+1
   \   00000234   97A828E0           MLA      R8,R7,R8,R10
   \   00000238   6C709FE5           LDR      R7,??xmp3_UnpackFrameHeader_2+0x14  ;; xmp3_sideBytesTab
   \   0000023C   866088E0           ADD      R6,R8,R6, LSL #+1
   \   00000240   F060D6E1           LDRSH    R6,[R6, #+0]
   \   00000244   0E7187E0           ADD      R7,R7,LR, LSL #+2
   \   00000248   800087E0           ADD      R0,R7,R0, LSL #+1
   \   0000024C   F000D0E1           LDRSH    R0,[R0, #+0]
   \   00000250   00C0A003           MOVEQ    R12,#+0
   \   00000254   000046E0           SUB      R0,R6,R0
   \   00000258   040040E2           SUB      R0,R0,#+4
   \   0000025C   010040E0           SUB      R0,R0,R1
   \   00000260   00008CE0           ADD      R0,R12,R0
   \   00000264   CC0782E5           STR      R0,[R2, #+1996]
    273          	}
    274          
    275          	/* load crc word, if enabled, and return length of frame header (in bytes) */
    276          	if (fh->crc) {
   \                     ??xmp3_UnpackFrameHeader_3:
   \   00000268   080094E5           LDR      R0,[R4, #+8]
   \   0000026C   000050E3           CMP      R0,#+0
   \   00000270   0500000A           BEQ      ??xmp3_UnpackFrameHeader_4
    277          		fh->CRCWord = ((int)buf[4] << 8 | (int)buf[5] << 0);
   \   00000274   0400D3E5           LDRB     R0,[R3, #+4]
   \   00000278   0510D3E5           LDRB     R1,[R3, #+5]
   \   0000027C   000481E1           ORR      R0,R1,R0, LSL #+8
   \   00000280   300084E5           STR      R0,[R4, #+48]
    278          		return 6;
   \   00000284   0600A0E3           MOV      R0,#+6
   \   00000288   F087BDE8           POP      {R4-R10,PC}
    279          	} else {
    280          		fh->CRCWord = 0;
   \                     ??xmp3_UnpackFrameHeader_4:
   \   0000028C   305084E5           STR      R5,[R4, #+48]
    281          		return 4;
   \   00000290   0400A0E3           MOV      R0,#+4
   \   00000294   F087BDE8           POP      {R4-R10,PC}      ;; return
   \                     ??xmp3_UnpackFrameHeader_2:
   \   00000298   ........           DC32     xmp3_sfBandTable
   \   0000029C   ........           DC32     xmp3_samplerateTab
   \   000002A0   ........           DC32     xmp3_samplesPerFrameTab
   \   000002A4   ........           DC32     xmp3_bitrateTab
   \   000002A8   ........           DC32     xmp3_slotTab
   \   000002AC   ........           DC32     xmp3_sideBytesTab
    282          	}
    283          }
    284          
    285          /**************************************************************************************
    286           * Function:    UnpackSideInfo
    287           *
    288           * Description: parse the fields of the MP3 side info header
    289           *
    290           * Inputs:      MP3DecInfo structure filled by UnpackFrameHeader()
    291           *              buffer pointing to the MP3 side info data
    292           *
    293           * Outputs:     updated mainDataBegin in MP3DecInfo struct
    294           *              updated private (platform-specific) SideInfo struct
    295           *
    296           * Return:      length (in bytes) of side info data
    297           *              -1 if null input pointers
    298           **************************************************************************************/

   \                                 In segment CODE, align 4, keep-with-next
    299          int UnpackSideInfo(MP3DecInfo *mp3DecInfo, unsigned char *buf)
    300          {
   \                     xmp3_UnpackSideInfo:
   \   00000000   F24F2DE9           PUSH     {R1,R4-R11,LR}
   \   00000004   18D04DE2           SUB      SP,SP,#+24
   \   00000008   0050B0E1           MOVS     R5,R0
    301          	int gr, ch, bd, nBytes;
    302          	BitStreamInfo bitStreamInfo, *bsi;
    303          	FrameHeader *fh;
    304          	SideInfo *si;
    305          	SideInfoSub *sis;
    306          
    307          	/* validate pointers and sync word */
    308          	if (!mp3DecInfo || !mp3DecInfo->FrameHeaderPS || !mp3DecInfo->SideInfoPS)
   \   0000000C   00009515           LDRNE    R0,[R5, #+0]
   \   00000010   00005013           CMPNE    R0,#+0
   \   00000014   04609515           LDRNE    R6,[R5, #+4]
   \   00000018   00005613           CMPNE    R6,#+0
    309          		return -1;
   \   0000001C   0000E003           MVNEQ    R0,#+0
   \   00000020   9700000A           BEQ      ??xmp3_UnpackSideInfo_0
    310          
    311          	fh = ((FrameHeader *)(mp3DecInfo->FrameHeaderPS));
   \   00000024   10008DE5           STR      R0,[SP, #+16]
    312          	si = ((SideInfo *)(mp3DecInfo->SideInfoPS));
    313          
    314          	bsi = &bitStreamInfo;
    315          	if (fh->ver == MPEG1) {
   \   00000028   0000D0E5           LDRB     R0,[R0, #+0]
   \   0000002C   0070A0E3           MOV      R7,#+0
   \   00000030   000050E3           CMP      R0,#+0
   \   00000034   10009DE5           LDR      R0,[SP, #+16]
   \   00000038   1C00D0E5           LDRB     R0,[R0, #+28]
   \   0000003C   5600001A           BNE      ??xmp3_UnpackSideInfo_1
    316          		/* MPEG 1 */
    317          		nBytes = (fh->sMode == Mono ? SIBYTES_MPEG1_MONO : SIBYTES_MPEG1_STEREO);
   \   00000040   030050E3           CMP      R0,#+3
   \   00000044   1110A003           MOVEQ    R1,#+17
   \   00000048   2010A013           MOVNE    R1,#+32
   \   0000004C   14108DE5           STR      R1,[SP, #+20]
    318          		SetBitstreamPointer(bsi, nBytes, buf);
   \   00000050   18109DE5           LDR      R1,[SP, #+24]
   \   00000054   04708DE5           STR      R7,[SP, #+4]
   \   00000058   00108DE5           STR      R1,[SP, #+0]
   \   0000005C   14109DE5           LDR      R1,[SP, #+20]
    319          		si->mainDataBegin = GetBits(bsi, 9);
   \   00000060   0D00A0E1           MOV      R0,SP
   \   00000064   0C108DE5           STR      R1,[SP, #+12]
   \   00000068   0810E0E3           MVN      R1,#+8
   \   0000006C   08108DE5           STR      R1,[SP, #+8]
   \   00000070   ........           BL       RefillBitstreamCache
   \   00000074   04009DE5           LDR      R0,[SP, #+4]
   \   00000078   08309DE5           LDR      R3,[SP, #+8]
   \   0000007C   A01BA0E1           LSR      R1,R0,#+23
   \   00000080   093043E2           SUB      R3,R3,#+9
   \   00000084   08308DE5           STR      R3,[SP, #+8]
   \   00000088   8004A0E1           LSL      R0,R0,#+9
   \   0000008C   04008DE5           STR      R0,[SP, #+4]
   \   00000090   001086E5           STR      R1,[R6, #+0]
    320          		si->privateBits =   GetBits(bsi, (fh->sMode == Mono ? 5 : 3));
   \   00000094   10009DE5           LDR      R0,[SP, #+16]
   \   00000098   04109DE5           LDR      R1,[SP, #+4]
   \   0000009C   1C00D0E5           LDRB     R0,[R0, #+28]
   \   000000A0   030050E3           CMP      R0,#+3
   \   000000A4   0500A003           MOVEQ    R0,#+5
   \   000000A8   0300A013           MOVNE    R0,#+3
   \   000000AC   1F0000E2           AND      R0,R0,#0x1F
   \   000000B0   0020A0E1           MOV      R2,R0
   \   000000B4   1F2062E2           RSB      R2,R2,#+31
   \   000000B8   3122A0E1           LSR      R2,R1,R2
   \   000000BC   1110A0E1           LSL      R1,R1,R0
   \   000000C0   04108DE5           STR      R1,[SP, #+4]
   \   000000C4   08109DE5           LDR      R1,[SP, #+8]
   \   000000C8   A240A0E1           LSR      R4,R2,#+1
   \   000000CC   000051E0           SUBS     R0,R1,R0
   \   000000D0   08008DE5           STR      R0,[SP, #+8]
   \   000000D4   0B00005A           BPL      ??xmp3_UnpackSideInfo_2
   \   000000D8   008060E2           RSB      R8,R0,#+0
   \   000000DC   0D00A0E1           MOV      R0,SP
   \   000000E0   ........           BL       RefillBitstreamCache
   \   000000E4   04009DE5           LDR      R0,[SP, #+4]
   \   000000E8   08209DE5           LDR      R2,[SP, #+8]
   \   000000EC   0810A0E1           MOV      R1,R8
   \   000000F0   201061E2           RSB      R1,R1,#+32
   \   000000F4   304184E1           ORR      R4,R4,R0, LSR R1
   \   000000F8   082042E0           SUB      R2,R2,R8
   \   000000FC   08208DE5           STR      R2,[SP, #+8]
   \   00000100   1008A0E1           LSL      R0,R0,R8
   \   00000104   04008DE5           STR      R0,[SP, #+4]
   \                     ??xmp3_UnpackSideInfo_2:
   \   00000108   044086E5           STR      R4,[R6, #+4]
    321          
    322          		for (ch = 0; ch < mp3DecInfo->nChans; ch++)
   \   0000010C   BC0795E5           LDR      R0,[R5, #+1980]
   \   00000110   0090A0E3           MOV      R9,#+0
   \   00000114   010050E3           CMP      R0,#+1
   \   00000118   520000BA           BLT      ??xmp3_UnpackSideInfo_3
   \                     ??xmp3_UnpackSideInfo_4:
   \   0000011C   BC0795E5           LDR      R0,[R5, #+1980]
   \   00000120   000059E1           CMP      R9,R0
   \   00000124   4F0000AA           BGE      ??xmp3_UnpackSideInfo_3
    323          			for (bd = 0; bd < MAX_SCFBD; bd++)
   \   00000128   0040A0E3           MOV      R4,#+0
    324          				si->scfsi[ch][bd] = GetBits(bsi, 1);
   \                     ??xmp3_UnpackSideInfo_5:
   \   0000012C   04009DE5           LDR      R0,[SP, #+4]
   \   00000130   A08FA0E1           LSR      R8,R0,#+31
   \   00000134   8000A0E1           LSL      R0,R0,#+1
   \   00000138   04008DE5           STR      R0,[SP, #+4]
   \   0000013C   08009DE5           LDR      R0,[SP, #+8]
   \   00000140   010050E2           SUBS     R0,R0,#+1
   \   00000144   08008DE5           STR      R0,[SP, #+8]
   \   00000148   0B00005A           BPL      ??xmp3_UnpackSideInfo_6
   \   0000014C   00A060E2           RSB      R10,R0,#+0
   \   00000150   0D00A0E1           MOV      R0,SP
   \   00000154   ........           BL       RefillBitstreamCache
   \   00000158   04009DE5           LDR      R0,[SP, #+4]
   \   0000015C   08209DE5           LDR      R2,[SP, #+8]
   \   00000160   0A10A0E1           MOV      R1,R10
   \   00000164   201061E2           RSB      R1,R1,#+32
   \   00000168   308188E1           ORR      R8,R8,R0, LSR R1
   \   0000016C   0A2042E0           SUB      R2,R2,R10
   \   00000170   08208DE5           STR      R2,[SP, #+8]
   \   00000174   100AA0E1           LSL      R0,R0,R10
   \   00000178   04008DE5           STR      R0,[SP, #+4]
   \                     ??xmp3_UnpackSideInfo_6:
   \   0000017C   090286E0           ADD      R0,R6,R9, LSL #+4
   \   00000180   040180E0           ADD      R0,R0,R4, LSL #+2
   \   00000184   088080E5           STR      R8,[R0, #+8]
   \   00000188   014084E2           ADD      R4,R4,#+1
   \   0000018C   040054E3           CMP      R4,#+4
   \   00000190   E5FFFFBA           BLT      ??xmp3_UnpackSideInfo_5
   \   00000194   019089E2           ADD      R9,R9,#+1
   \   00000198   DFFFFFEA           B        ??xmp3_UnpackSideInfo_4
    325          	} else {
    326          		/* MPEG 2, MPEG 2.5 */
    327          		nBytes = (fh->sMode == Mono ? SIBYTES_MPEG2_MONO : SIBYTES_MPEG2_STEREO);
    328          		SetBitstreamPointer(bsi, nBytes, buf);
   \                     ??xmp3_UnpackSideInfo_1:
   \   0000019C   04708DE5           STR      R7,[SP, #+4]
   \   000001A0   030050E3           CMP      R0,#+3
   \   000001A4   0910A003           MOVEQ    R1,#+9
   \   000001A8   1110A013           MOVNE    R1,#+17
   \   000001AC   14108DE5           STR      R1,[SP, #+20]
   \   000001B0   18109DE5           LDR      R1,[SP, #+24]
    329          		si->mainDataBegin = GetBits(bsi, 8);
   \   000001B4   0D00A0E1           MOV      R0,SP
   \   000001B8   00108DE5           STR      R1,[SP, #+0]
   \   000001BC   14109DE5           LDR      R1,[SP, #+20]
   \   000001C0   0C108DE5           STR      R1,[SP, #+12]
   \   000001C4   0710E0E3           MVN      R1,#+7
   \   000001C8   08108DE5           STR      R1,[SP, #+8]
   \   000001CC   ........           BL       RefillBitstreamCache
   \   000001D0   04009DE5           LDR      R0,[SP, #+4]
   \   000001D4   08309DE5           LDR      R3,[SP, #+8]
   \   000001D8   201CA0E1           LSR      R1,R0,#+24
   \   000001DC   083043E2           SUB      R3,R3,#+8
   \   000001E0   08308DE5           STR      R3,[SP, #+8]
   \   000001E4   0004A0E1           LSL      R0,R0,#+8
   \   000001E8   04008DE5           STR      R0,[SP, #+4]
   \   000001EC   001086E5           STR      R1,[R6, #+0]
    330          		si->privateBits =   GetBits(bsi, (fh->sMode == Mono ? 1 : 2));
   \   000001F0   10009DE5           LDR      R0,[SP, #+16]
   \   000001F4   04109DE5           LDR      R1,[SP, #+4]
   \   000001F8   1C00D0E5           LDRB     R0,[R0, #+28]
   \   000001FC   030050E3           CMP      R0,#+3
   \   00000200   0100A003           MOVEQ    R0,#+1
   \   00000204   0200A013           MOVNE    R0,#+2
   \   00000208   1F0000E2           AND      R0,R0,#0x1F
   \   0000020C   0020A0E1           MOV      R2,R0
   \   00000210   1F2062E2           RSB      R2,R2,#+31
   \   00000214   3122A0E1           LSR      R2,R1,R2
   \   00000218   1110A0E1           LSL      R1,R1,R0
   \   0000021C   04108DE5           STR      R1,[SP, #+4]
   \   00000220   08109DE5           LDR      R1,[SP, #+8]
   \   00000224   A240A0E1           LSR      R4,R2,#+1
   \   00000228   000051E0           SUBS     R0,R1,R0
   \   0000022C   08008DE5           STR      R0,[SP, #+8]
   \   00000230   0B00005A           BPL      ??xmp3_UnpackSideInfo_7
   \   00000234   008060E2           RSB      R8,R0,#+0
   \   00000238   0D00A0E1           MOV      R0,SP
   \   0000023C   ........           BL       RefillBitstreamCache
   \   00000240   04009DE5           LDR      R0,[SP, #+4]
   \   00000244   08209DE5           LDR      R2,[SP, #+8]
   \   00000248   0810A0E1           MOV      R1,R8
   \   0000024C   201061E2           RSB      R1,R1,#+32
   \   00000250   304184E1           ORR      R4,R4,R0, LSR R1
   \   00000254   082042E0           SUB      R2,R2,R8
   \   00000258   08208DE5           STR      R2,[SP, #+8]
   \   0000025C   1008A0E1           LSL      R0,R0,R8
   \   00000260   04008DE5           STR      R0,[SP, #+4]
   \                     ??xmp3_UnpackSideInfo_7:
   \   00000264   044086E5           STR      R4,[R6, #+4]
    331          	}
    332          
    333          	for(gr =0; gr < mp3DecInfo->nGrans; gr++) {
   \                     ??xmp3_UnpackSideInfo_3:
   \   00000268   C40795E5           LDR      R0,[R5, #+1988]
   \   0000026C   0080A0E3           MOV      R8,#+0
   \   00000270   010050E3           CMP      R0,#+1
   \   00000274   050000AA           BGE      ??xmp3_UnpackSideInfo_8
    334          		for (ch = 0; ch < mp3DecInfo->nChans; ch++) {
    335          			sis = &si->sis[gr][ch];						/* side info subblock for this granule, channel */
    336          
    337          			sis->part23Length =    GetBits(bsi, 12);
    338          			sis->nBigvals =        GetBits(bsi, 9);
    339          			sis->globalGain =      GetBits(bsi, 8);
    340          			sis->sfCompress =      GetBits(bsi, (fh->ver == MPEG1 ? 4 : 9));
    341          			sis->winSwitchFlag =   GetBits(bsi, 1);
    342          
    343          			if(sis->winSwitchFlag) {
    344          				/* this is a start, stop, short, or mixed block */
    345          				sis->blockType =       GetBits(bsi, 2);		/* 0 = normal, 1 = start, 2 = short, 3 = stop */
    346          				sis->mixedBlock =      GetBits(bsi, 1);		/* 0 = not mixed, 1 = mixed */
    347          				sis->tableSelect[0] =  GetBits(bsi, 5);
    348          				sis->tableSelect[1] =  GetBits(bsi, 5);
    349          				sis->tableSelect[2] =  0;					/* unused */
    350          				sis->subBlockGain[0] = GetBits(bsi, 3);
    351          				sis->subBlockGain[1] = GetBits(bsi, 3);
    352          				sis->subBlockGain[2] = GetBits(bsi, 3);
    353          
    354          				/* TODO - check logic */
    355          				if (sis->blockType == 0) {
    356          					/* this should not be allowed, according to spec */
    357          					sis->nBigvals = 0;
    358          					sis->part23Length = 0;
    359          					sis->sfCompress = 0;
    360          				} else if (sis->blockType == 2 && sis->mixedBlock == 0) {
    361          					/* short block, not mixed */
    362          					sis->region0Count = 8;
    363          				} else {
    364          					/* start, stop, or short-mixed */
    365          					sis->region0Count = 7;
    366          				}
    367          				sis->region1Count = 20 - sis->region0Count;
    368          			} else {
    369          				/* this is a normal block */
    370          				sis->blockType = 0;
    371          				sis->mixedBlock = 0;
    372          				sis->tableSelect[0] =  GetBits(bsi, 5);
    373          				sis->tableSelect[1] =  GetBits(bsi, 5);
    374          				sis->tableSelect[2] =  GetBits(bsi, 5);
    375          				sis->region0Count =    GetBits(bsi, 4);
    376          				sis->region1Count =    GetBits(bsi, 3);
    377          			}
    378          			sis->preFlag =           (fh->ver == MPEG1 ? GetBits(bsi, 1) : 0);
    379          			sis->sfactScale =        GetBits(bsi, 1);
    380          			sis->count1TableSelect = GetBits(bsi, 1);
    381          		}
    382          	}
    383          	mp3DecInfo->mainDataBegin = si->mainDataBegin;	/* needed by main decode loop */
   \                     ??xmp3_UnpackSideInfo_9:
   \   00000278   000096E5           LDR      R0,[R6, #+0]
   \   0000027C   D80785E5           STR      R0,[R5, #+2008]
    384          
    385          	ASSERT(nBytes == CalcBitsUsed(bsi, buf, 0) >> 3);
    386          
    387          	return nBytes;
   \   00000280   14009DE5           LDR      R0,[SP, #+20]
   \                     ??xmp3_UnpackSideInfo_0:
   \   00000284   1CD08DE2           ADD      SP,SP,#+28       ;; stack cleaning
   \   00000288   F08FBDE8           POP      {R4-R11,PC}      ;; return
   \                     ??xmp3_UnpackSideInfo_10:
   \   0000028C   018088E2           ADD      R8,R8,#+1
   \                     ??xmp3_UnpackSideInfo_8:
   \   00000290   C40795E5           LDR      R0,[R5, #+1988]
   \   00000294   000058E1           CMP      R8,R0
   \   00000298   F6FFFFAA           BGE      ??xmp3_UnpackSideInfo_9
   \   0000029C   BC0795E5           LDR      R0,[R5, #+1980]
   \   000002A0   0090A0E3           MOV      R9,#+0
   \   000002A4   010050E3           CMP      R0,#+1
   \   000002A8   2D0000AA           BGE      ??xmp3_UnpackSideInfo_11
   \   000002AC   F6FFFFEA           B        ??xmp3_UnpackSideInfo_10
   \                     ??xmp3_UnpackSideInfo_12:
   \   000002B0   0040A0E3           MOV      R4,#+0
   \                     ??xmp3_UnpackSideInfo_13:
   \   000002B4   3C408AE5           STR      R4,[R10, #+60]
   \   000002B8   04009DE5           LDR      R0,[SP, #+4]
   \   000002BC   A04FA0E1           LSR      R4,R0,#+31
   \   000002C0   8000A0E1           LSL      R0,R0,#+1
   \   000002C4   04008DE5           STR      R0,[SP, #+4]
   \   000002C8   08009DE5           LDR      R0,[SP, #+8]
   \   000002CC   010050E2           SUBS     R0,R0,#+1
   \   000002D0   08008DE5           STR      R0,[SP, #+8]
   \   000002D4   0B00005A           BPL      ??xmp3_UnpackSideInfo_14
   \   000002D8   00B060E2           RSB      R11,R0,#+0
   \   000002DC   0D00A0E1           MOV      R0,SP
   \   000002E0   ........           BL       RefillBitstreamCache
   \   000002E4   04009DE5           LDR      R0,[SP, #+4]
   \   000002E8   08209DE5           LDR      R2,[SP, #+8]
   \   000002EC   0B10A0E1           MOV      R1,R11
   \   000002F0   201061E2           RSB      R1,R1,#+32
   \   000002F4   304184E1           ORR      R4,R4,R0, LSR R1
   \   000002F8   0B2042E0           SUB      R2,R2,R11
   \   000002FC   08208DE5           STR      R2,[SP, #+8]
   \   00000300   100BA0E1           LSL      R0,R0,R11
   \   00000304   04008DE5           STR      R0,[SP, #+4]
   \                     ??xmp3_UnpackSideInfo_14:
   \   00000308   40408AE5           STR      R4,[R10, #+64]
   \   0000030C   04009DE5           LDR      R0,[SP, #+4]
   \   00000310   A04FA0E1           LSR      R4,R0,#+31
   \   00000314   8000A0E1           LSL      R0,R0,#+1
   \   00000318   04008DE5           STR      R0,[SP, #+4]
   \   0000031C   08009DE5           LDR      R0,[SP, #+8]
   \   00000320   010050E2           SUBS     R0,R0,#+1
   \   00000324   08008DE5           STR      R0,[SP, #+8]
   \   00000328   0B00005A           BPL      ??xmp3_UnpackSideInfo_15
   \   0000032C   00B060E2           RSB      R11,R0,#+0
   \   00000330   0D00A0E1           MOV      R0,SP
   \   00000334   ........           BL       RefillBitstreamCache
   \   00000338   04009DE5           LDR      R0,[SP, #+4]
   \   0000033C   08209DE5           LDR      R2,[SP, #+8]
   \   00000340   0B10A0E1           MOV      R1,R11
   \   00000344   201061E2           RSB      R1,R1,#+32
   \   00000348   304184E1           ORR      R4,R4,R0, LSR R1
   \   0000034C   0B2042E0           SUB      R2,R2,R11
   \   00000350   08208DE5           STR      R2,[SP, #+8]
   \   00000354   100BA0E1           LSL      R0,R0,R11
   \   00000358   04008DE5           STR      R0,[SP, #+4]
   \                     ??xmp3_UnpackSideInfo_15:
   \   0000035C   44408AE5           STR      R4,[R10, #+68]
   \   00000360   019089E2           ADD      R9,R9,#+1
   \                     ??xmp3_UnpackSideInfo_11:
   \   00000364   BC0795E5           LDR      R0,[R5, #+1980]
   \   00000368   000059E1           CMP      R9,R0
   \   0000036C   C6FFFFAA           BGE      ??xmp3_UnpackSideInfo_10
   \   00000370   4800A0E3           MOV      R0,#+72
   \   00000374   9010A0E3           MOV      R1,#+144
   \   00000378   916822E0           MLA      R2,R1,R8,R6
   \   0000037C   902921E0           MLA      R1,R0,R9,R2
   \   00000380   04009DE5           LDR      R0,[SP, #+4]
   \   00000384   28A081E2           ADD      R10,R1,#+40
   \   00000388   204AA0E1           LSR      R4,R0,#+20
   \   0000038C   0006A0E1           LSL      R0,R0,#+12
   \   00000390   04008DE5           STR      R0,[SP, #+4]
   \   00000394   08009DE5           LDR      R0,[SP, #+8]
   \   00000398   0C0050E2           SUBS     R0,R0,#+12
   \   0000039C   08008DE5           STR      R0,[SP, #+8]
   \   000003A0   0B00005A           BPL      ??xmp3_UnpackSideInfo_16
   \   000003A4   00B060E2           RSB      R11,R0,#+0
   \   000003A8   0D00A0E1           MOV      R0,SP
   \   000003AC   ........           BL       RefillBitstreamCache
   \   000003B0   04009DE5           LDR      R0,[SP, #+4]
   \   000003B4   08209DE5           LDR      R2,[SP, #+8]
   \   000003B8   0B10A0E1           MOV      R1,R11
   \   000003BC   201061E2           RSB      R1,R1,#+32
   \   000003C0   304184E1           ORR      R4,R4,R0, LSR R1
   \   000003C4   0B2042E0           SUB      R2,R2,R11
   \   000003C8   08208DE5           STR      R2,[SP, #+8]
   \   000003CC   100BA0E1           LSL      R0,R0,R11
   \   000003D0   04008DE5           STR      R0,[SP, #+4]
   \                     ??xmp3_UnpackSideInfo_16:
   \   000003D4   00408AE5           STR      R4,[R10, #+0]
   \   000003D8   04009DE5           LDR      R0,[SP, #+4]
   \   000003DC   A04BA0E1           LSR      R4,R0,#+23
   \   000003E0   8004A0E1           LSL      R0,R0,#+9
   \   000003E4   04008DE5           STR      R0,[SP, #+4]
   \   000003E8   08009DE5           LDR      R0,[SP, #+8]
   \   000003EC   090050E2           SUBS     R0,R0,#+9
   \   000003F0   08008DE5           STR      R0,[SP, #+8]
   \   000003F4   0B00005A           BPL      ??xmp3_UnpackSideInfo_17
   \   000003F8   00B060E2           RSB      R11,R0,#+0
   \   000003FC   0D00A0E1           MOV      R0,SP
   \   00000400   ........           BL       RefillBitstreamCache
   \   00000404   04009DE5           LDR      R0,[SP, #+4]
   \   00000408   08209DE5           LDR      R2,[SP, #+8]
   \   0000040C   0B10A0E1           MOV      R1,R11
   \   00000410   201061E2           RSB      R1,R1,#+32
   \   00000414   304184E1           ORR      R4,R4,R0, LSR R1
   \   00000418   0B2042E0           SUB      R2,R2,R11
   \   0000041C   08208DE5           STR      R2,[SP, #+8]
   \   00000420   100BA0E1           LSL      R0,R0,R11
   \   00000424   04008DE5           STR      R0,[SP, #+4]
   \                     ??xmp3_UnpackSideInfo_17:
   \   00000428   04408AE5           STR      R4,[R10, #+4]
   \   0000042C   04009DE5           LDR      R0,[SP, #+4]
   \   00000430   204CA0E1           LSR      R4,R0,#+24
   \   00000434   0004A0E1           LSL      R0,R0,#+8
   \   00000438   04008DE5           STR      R0,[SP, #+4]
   \   0000043C   08009DE5           LDR      R0,[SP, #+8]
   \   00000440   080050E2           SUBS     R0,R0,#+8
   \   00000444   08008DE5           STR      R0,[SP, #+8]
   \   00000448   0B00005A           BPL      ??xmp3_UnpackSideInfo_18
   \   0000044C   00B060E2           RSB      R11,R0,#+0
   \   00000450   0D00A0E1           MOV      R0,SP
   \   00000454   ........           BL       RefillBitstreamCache
   \   00000458   04009DE5           LDR      R0,[SP, #+4]
   \   0000045C   08209DE5           LDR      R2,[SP, #+8]
   \   00000460   0B10A0E1           MOV      R1,R11
   \   00000464   201061E2           RSB      R1,R1,#+32
   \   00000468   304184E1           ORR      R4,R4,R0, LSR R1
   \   0000046C   0B2042E0           SUB      R2,R2,R11
   \   00000470   08208DE5           STR      R2,[SP, #+8]
   \   00000474   100BA0E1           LSL      R0,R0,R11
   \   00000478   04008DE5           STR      R0,[SP, #+4]
   \                     ??xmp3_UnpackSideInfo_18:
   \   0000047C   08408AE5           STR      R4,[R10, #+8]
   \   00000480   10009DE5           LDR      R0,[SP, #+16]
   \   00000484   04109DE5           LDR      R1,[SP, #+4]
   \   00000488   0000D0E5           LDRB     R0,[R0, #+0]
   \   0000048C   000050E3           CMP      R0,#+0
   \   00000490   0400A003           MOVEQ    R0,#+4
   \   00000494   0900A013           MOVNE    R0,#+9
   \   00000498   1F0000E2           AND      R0,R0,#0x1F
   \   0000049C   0020A0E1           MOV      R2,R0
   \   000004A0   1F2062E2           RSB      R2,R2,#+31
   \   000004A4   3122A0E1           LSR      R2,R1,R2
   \   000004A8   1110A0E1           LSL      R1,R1,R0
   \   000004AC   04108DE5           STR      R1,[SP, #+4]
   \   000004B0   08109DE5           LDR      R1,[SP, #+8]
   \   000004B4   A240A0E1           LSR      R4,R2,#+1
   \   000004B8   000051E0           SUBS     R0,R1,R0
   \   000004BC   08008DE5           STR      R0,[SP, #+8]
   \   000004C0   0B00005A           BPL      ??xmp3_UnpackSideInfo_19
   \   000004C4   00B060E2           RSB      R11,R0,#+0
   \   000004C8   0D00A0E1           MOV      R0,SP
   \   000004CC   ........           BL       RefillBitstreamCache
   \   000004D0   04009DE5           LDR      R0,[SP, #+4]
   \   000004D4   08209DE5           LDR      R2,[SP, #+8]
   \   000004D8   0B10A0E1           MOV      R1,R11
   \   000004DC   201061E2           RSB      R1,R1,#+32
   \   000004E0   304184E1           ORR      R4,R4,R0, LSR R1
   \   000004E4   0B2042E0           SUB      R2,R2,R11
   \   000004E8   08208DE5           STR      R2,[SP, #+8]
   \   000004EC   100BA0E1           LSL      R0,R0,R11
   \   000004F0   04008DE5           STR      R0,[SP, #+4]
   \                     ??xmp3_UnpackSideInfo_19:
   \   000004F4   0C408AE5           STR      R4,[R10, #+12]
   \   000004F8   04009DE5           LDR      R0,[SP, #+4]
   \   000004FC   A04FA0E1           LSR      R4,R0,#+31
   \   00000500   8000A0E1           LSL      R0,R0,#+1
   \   00000504   04008DE5           STR      R0,[SP, #+4]
   \   00000508   08009DE5           LDR      R0,[SP, #+8]
   \   0000050C   010050E2           SUBS     R0,R0,#+1
   \   00000510   08008DE5           STR      R0,[SP, #+8]
   \   00000514   0B00005A           BPL      ??xmp3_UnpackSideInfo_20
   \   00000518   00B060E2           RSB      R11,R0,#+0
   \   0000051C   0D00A0E1           MOV      R0,SP
   \   00000520   ........           BL       RefillBitstreamCache
   \   00000524   04009DE5           LDR      R0,[SP, #+4]
   \   00000528   08209DE5           LDR      R2,[SP, #+8]
   \   0000052C   0B10A0E1           MOV      R1,R11
   \   00000530   201061E2           RSB      R1,R1,#+32
   \   00000534   304184E1           ORR      R4,R4,R0, LSR R1
   \   00000538   0B2042E0           SUB      R2,R2,R11
   \   0000053C   08208DE5           STR      R2,[SP, #+8]
   \   00000540   100BA0E1           LSL      R0,R0,R11
   \   00000544   04008DE5           STR      R0,[SP, #+4]
   \                     ??xmp3_UnpackSideInfo_20:
   \   00000548   10408AE5           STR      R4,[R10, #+16]
   \   0000054C   000054E3           CMP      R4,#+0
   \   00000550   A300000A           BEQ      ??xmp3_UnpackSideInfo_21
   \   00000554   04009DE5           LDR      R0,[SP, #+4]
   \   00000558   204FA0E1           LSR      R4,R0,#+30
   \   0000055C   0001A0E1           LSL      R0,R0,#+2
   \   00000560   04008DE5           STR      R0,[SP, #+4]
   \   00000564   08009DE5           LDR      R0,[SP, #+8]
   \   00000568   020050E2           SUBS     R0,R0,#+2
   \   0000056C   08008DE5           STR      R0,[SP, #+8]
   \   00000570   0B00005A           BPL      ??xmp3_UnpackSideInfo_22
   \   00000574   00B060E2           RSB      R11,R0,#+0
   \   00000578   0D00A0E1           MOV      R0,SP
   \   0000057C   ........           BL       RefillBitstreamCache
   \   00000580   04009DE5           LDR      R0,[SP, #+4]
   \   00000584   08209DE5           LDR      R2,[SP, #+8]
   \   00000588   0B10A0E1           MOV      R1,R11
   \   0000058C   201061E2           RSB      R1,R1,#+32
   \   00000590   304184E1           ORR      R4,R4,R0, LSR R1
   \   00000594   0B2042E0           SUB      R2,R2,R11
   \   00000598   08208DE5           STR      R2,[SP, #+8]
   \   0000059C   100BA0E1           LSL      R0,R0,R11
   \   000005A0   04008DE5           STR      R0,[SP, #+4]
   \                     ??xmp3_UnpackSideInfo_22:
   \   000005A4   14408AE5           STR      R4,[R10, #+20]
   \   000005A8   04009DE5           LDR      R0,[SP, #+4]
   \   000005AC   A04FA0E1           LSR      R4,R0,#+31
   \   000005B0   8000A0E1           LSL      R0,R0,#+1
   \   000005B4   04008DE5           STR      R0,[SP, #+4]
   \   000005B8   08009DE5           LDR      R0,[SP, #+8]
   \   000005BC   010050E2           SUBS     R0,R0,#+1
   \   000005C0   08008DE5           STR      R0,[SP, #+8]
   \   000005C4   0B00005A           BPL      ??xmp3_UnpackSideInfo_23
   \   000005C8   00B060E2           RSB      R11,R0,#+0
   \   000005CC   0D00A0E1           MOV      R0,SP
   \   000005D0   ........           BL       RefillBitstreamCache
   \   000005D4   04009DE5           LDR      R0,[SP, #+4]
   \   000005D8   08209DE5           LDR      R2,[SP, #+8]
   \   000005DC   0B10A0E1           MOV      R1,R11
   \   000005E0   201061E2           RSB      R1,R1,#+32
   \   000005E4   304184E1           ORR      R4,R4,R0, LSR R1
   \   000005E8   0B2042E0           SUB      R2,R2,R11
   \   000005EC   08208DE5           STR      R2,[SP, #+8]
   \   000005F0   100BA0E1           LSL      R0,R0,R11
   \   000005F4   04008DE5           STR      R0,[SP, #+4]
   \                     ??xmp3_UnpackSideInfo_23:
   \   000005F8   18408AE5           STR      R4,[R10, #+24]
   \   000005FC   04009DE5           LDR      R0,[SP, #+4]
   \   00000600   A04DA0E1           LSR      R4,R0,#+27
   \   00000604   8002A0E1           LSL      R0,R0,#+5
   \   00000608   04008DE5           STR      R0,[SP, #+4]
   \   0000060C   08009DE5           LDR      R0,[SP, #+8]
   \   00000610   050050E2           SUBS     R0,R0,#+5
   \   00000614   08008DE5           STR      R0,[SP, #+8]
   \   00000618   0B00005A           BPL      ??xmp3_UnpackSideInfo_24
   \   0000061C   00B060E2           RSB      R11,R0,#+0
   \   00000620   0D00A0E1           MOV      R0,SP
   \   00000624   ........           BL       RefillBitstreamCache
   \   00000628   04009DE5           LDR      R0,[SP, #+4]
   \   0000062C   08209DE5           LDR      R2,[SP, #+8]
   \   00000630   0B10A0E1           MOV      R1,R11
   \   00000634   201061E2           RSB      R1,R1,#+32
   \   00000638   304184E1           ORR      R4,R4,R0, LSR R1
   \   0000063C   0B2042E0           SUB      R2,R2,R11
   \   00000640   08208DE5           STR      R2,[SP, #+8]
   \   00000644   100BA0E1           LSL      R0,R0,R11
   \   00000648   04008DE5           STR      R0,[SP, #+4]
   \                     ??xmp3_UnpackSideInfo_24:
   \   0000064C   1C408AE5           STR      R4,[R10, #+28]
   \   00000650   04009DE5           LDR      R0,[SP, #+4]
   \   00000654   A04DA0E1           LSR      R4,R0,#+27
   \   00000658   8002A0E1           LSL      R0,R0,#+5
   \   0000065C   04008DE5           STR      R0,[SP, #+4]
   \   00000660   08009DE5           LDR      R0,[SP, #+8]
   \   00000664   050050E2           SUBS     R0,R0,#+5
   \   00000668   08008DE5           STR      R0,[SP, #+8]
   \   0000066C   0B00005A           BPL      ??xmp3_UnpackSideInfo_25
   \   00000670   00B060E2           RSB      R11,R0,#+0
   \   00000674   0D00A0E1           MOV      R0,SP
   \   00000678   ........           BL       RefillBitstreamCache
   \   0000067C   04009DE5           LDR      R0,[SP, #+4]
   \   00000680   08209DE5           LDR      R2,[SP, #+8]
   \   00000684   0B10A0E1           MOV      R1,R11
   \   00000688   201061E2           RSB      R1,R1,#+32
   \   0000068C   304184E1           ORR      R4,R4,R0, LSR R1
   \   00000690   0B2042E0           SUB      R2,R2,R11
   \   00000694   08208DE5           STR      R2,[SP, #+8]
   \   00000698   100BA0E1           LSL      R0,R0,R11
   \   0000069C   04008DE5           STR      R0,[SP, #+4]
   \                     ??xmp3_UnpackSideInfo_25:
   \   000006A0   20408AE5           STR      R4,[R10, #+32]
   \   000006A4   24708AE5           STR      R7,[R10, #+36]
   \   000006A8   04009DE5           LDR      R0,[SP, #+4]
   \   000006AC   A04EA0E1           LSR      R4,R0,#+29
   \   000006B0   8001A0E1           LSL      R0,R0,#+3
   \   000006B4   04008DE5           STR      R0,[SP, #+4]
   \   000006B8   08009DE5           LDR      R0,[SP, #+8]
   \   000006BC   030050E2           SUBS     R0,R0,#+3
   \   000006C0   08008DE5           STR      R0,[SP, #+8]
   \   000006C4   0B00005A           BPL      ??xmp3_UnpackSideInfo_26
   \   000006C8   00B060E2           RSB      R11,R0,#+0
   \   000006CC   0D00A0E1           MOV      R0,SP
   \   000006D0   ........           BL       RefillBitstreamCache
   \   000006D4   04009DE5           LDR      R0,[SP, #+4]
   \   000006D8   08209DE5           LDR      R2,[SP, #+8]
   \   000006DC   0B10A0E1           MOV      R1,R11
   \   000006E0   201061E2           RSB      R1,R1,#+32
   \   000006E4   304184E1           ORR      R4,R4,R0, LSR R1
   \   000006E8   0B2042E0           SUB      R2,R2,R11
   \   000006EC   08208DE5           STR      R2,[SP, #+8]
   \   000006F0   100BA0E1           LSL      R0,R0,R11
   \   000006F4   04008DE5           STR      R0,[SP, #+4]
   \                     ??xmp3_UnpackSideInfo_26:
   \   000006F8   28408AE5           STR      R4,[R10, #+40]
   \   000006FC   04009DE5           LDR      R0,[SP, #+4]
   \   00000700   A04EA0E1           LSR      R4,R0,#+29
   \   00000704   8001A0E1           LSL      R0,R0,#+3
   \   00000708   04008DE5           STR      R0,[SP, #+4]
   \   0000070C   08009DE5           LDR      R0,[SP, #+8]
   \   00000710   030050E2           SUBS     R0,R0,#+3
   \   00000714   08008DE5           STR      R0,[SP, #+8]
   \   00000718   0B00005A           BPL      ??xmp3_UnpackSideInfo_27
   \   0000071C   00B060E2           RSB      R11,R0,#+0
   \   00000720   0D00A0E1           MOV      R0,SP
   \   00000724   ........           BL       RefillBitstreamCache
   \   00000728   04009DE5           LDR      R0,[SP, #+4]
   \   0000072C   08209DE5           LDR      R2,[SP, #+8]
   \   00000730   0B10A0E1           MOV      R1,R11
   \   00000734   201061E2           RSB      R1,R1,#+32
   \   00000738   304184E1           ORR      R4,R4,R0, LSR R1
   \   0000073C   0B2042E0           SUB      R2,R2,R11
   \   00000740   08208DE5           STR      R2,[SP, #+8]
   \   00000744   100BA0E1           LSL      R0,R0,R11
   \   00000748   04008DE5           STR      R0,[SP, #+4]
   \                     ??xmp3_UnpackSideInfo_27:
   \   0000074C   2C408AE5           STR      R4,[R10, #+44]
   \   00000750   04009DE5           LDR      R0,[SP, #+4]
   \   00000754   A04EA0E1           LSR      R4,R0,#+29
   \   00000758   8001A0E1           LSL      R0,R0,#+3
   \   0000075C   04008DE5           STR      R0,[SP, #+4]
   \   00000760   08009DE5           LDR      R0,[SP, #+8]
   \   00000764   030050E2           SUBS     R0,R0,#+3
   \   00000768   08008DE5           STR      R0,[SP, #+8]
   \   0000076C   0B00005A           BPL      ??xmp3_UnpackSideInfo_28
   \   00000770   00B060E2           RSB      R11,R0,#+0
   \   00000774   0D00A0E1           MOV      R0,SP
   \   00000778   ........           BL       RefillBitstreamCache
   \   0000077C   04009DE5           LDR      R0,[SP, #+4]
   \   00000780   08209DE5           LDR      R2,[SP, #+8]
   \   00000784   0B10A0E1           MOV      R1,R11
   \   00000788   201061E2           RSB      R1,R1,#+32
   \   0000078C   304184E1           ORR      R4,R4,R0, LSR R1
   \   00000790   0B2042E0           SUB      R2,R2,R11
   \   00000794   08208DE5           STR      R2,[SP, #+8]
   \   00000798   100BA0E1           LSL      R0,R0,R11
   \   0000079C   04008DE5           STR      R0,[SP, #+4]
   \                     ??xmp3_UnpackSideInfo_28:
   \   000007A0   30408AE5           STR      R4,[R10, #+48]
   \   000007A4   14009AE5           LDR      R0,[R10, #+20]
   \   000007A8   000050E3           CMP      R0,#+0
   \   000007AC   0300001A           BNE      ??xmp3_UnpackSideInfo_29
   \   000007B0   04708AE5           STR      R7,[R10, #+4]
   \   000007B4   00708AE5           STR      R7,[R10, #+0]
   \   000007B8   0C708AE5           STR      R7,[R10, #+12]
   \   000007BC   050000EA           B        ??xmp3_UnpackSideInfo_30
   \                     ??xmp3_UnpackSideInfo_29:
   \   000007C0   020050E3           CMP      R0,#+2
   \   000007C4   18009A05           LDREQ    R0,[R10, #+24]
   \   000007C8   00005003           CMPEQ    R0,#+0
   \   000007CC   0800A003           MOVEQ    R0,#+8
   \   000007D0   0700A013           MOVNE    R0,#+7
   \   000007D4   34008AE5           STR      R0,[R10, #+52]
   \                     ??xmp3_UnpackSideInfo_30:
   \   000007D8   34009AE5           LDR      R0,[R10, #+52]
   \   000007DC   144060E2           RSB      R4,R0,#+20
   \   000007E0   690000EA           B        ??xmp3_UnpackSideInfo_31
   \                     ??xmp3_UnpackSideInfo_21:
   \   000007E4   14708AE5           STR      R7,[R10, #+20]
   \   000007E8   18708AE5           STR      R7,[R10, #+24]
   \   000007EC   04009DE5           LDR      R0,[SP, #+4]
   \   000007F0   A04DA0E1           LSR      R4,R0,#+27
   \   000007F4   8002A0E1           LSL      R0,R0,#+5
   \   000007F8   04008DE5           STR      R0,[SP, #+4]
   \   000007FC   08009DE5           LDR      R0,[SP, #+8]
   \   00000800   050050E2           SUBS     R0,R0,#+5
   \   00000804   08008DE5           STR      R0,[SP, #+8]
   \   00000808   0B00005A           BPL      ??xmp3_UnpackSideInfo_32
   \   0000080C   00B060E2           RSB      R11,R0,#+0
   \   00000810   0D00A0E1           MOV      R0,SP
   \   00000814   ........           BL       RefillBitstreamCache
   \   00000818   04009DE5           LDR      R0,[SP, #+4]
   \   0000081C   08209DE5           LDR      R2,[SP, #+8]
   \   00000820   0B10A0E1           MOV      R1,R11
   \   00000824   201061E2           RSB      R1,R1,#+32
   \   00000828   304184E1           ORR      R4,R4,R0, LSR R1
   \   0000082C   0B2042E0           SUB      R2,R2,R11
   \   00000830   08208DE5           STR      R2,[SP, #+8]
   \   00000834   100BA0E1           LSL      R0,R0,R11
   \   00000838   04008DE5           STR      R0,[SP, #+4]
   \                     ??xmp3_UnpackSideInfo_32:
   \   0000083C   1C408AE5           STR      R4,[R10, #+28]
   \   00000840   04009DE5           LDR      R0,[SP, #+4]
   \   00000844   A04DA0E1           LSR      R4,R0,#+27
   \   00000848   8002A0E1           LSL      R0,R0,#+5
   \   0000084C   04008DE5           STR      R0,[SP, #+4]
   \   00000850   08009DE5           LDR      R0,[SP, #+8]
   \   00000854   050050E2           SUBS     R0,R0,#+5
   \   00000858   08008DE5           STR      R0,[SP, #+8]
   \   0000085C   0B00005A           BPL      ??xmp3_UnpackSideInfo_33
   \   00000860   00B060E2           RSB      R11,R0,#+0
   \   00000864   0D00A0E1           MOV      R0,SP
   \   00000868   ........           BL       RefillBitstreamCache
   \   0000086C   04009DE5           LDR      R0,[SP, #+4]
   \   00000870   08209DE5           LDR      R2,[SP, #+8]
   \   00000874   0B10A0E1           MOV      R1,R11
   \   00000878   201061E2           RSB      R1,R1,#+32
   \   0000087C   304184E1           ORR      R4,R4,R0, LSR R1
   \   00000880   0B2042E0           SUB      R2,R2,R11
   \   00000884   08208DE5           STR      R2,[SP, #+8]
   \   00000888   100BA0E1           LSL      R0,R0,R11
   \   0000088C   04008DE5           STR      R0,[SP, #+4]
   \                     ??xmp3_UnpackSideInfo_33:
   \   00000890   20408AE5           STR      R4,[R10, #+32]
   \   00000894   04009DE5           LDR      R0,[SP, #+4]
   \   00000898   A04DA0E1           LSR      R4,R0,#+27
   \   0000089C   8002A0E1           LSL      R0,R0,#+5
   \   000008A0   04008DE5           STR      R0,[SP, #+4]
   \   000008A4   08009DE5           LDR      R0,[SP, #+8]
   \   000008A8   050050E2           SUBS     R0,R0,#+5
   \   000008AC   08008DE5           STR      R0,[SP, #+8]
   \   000008B0   0B00005A           BPL      ??xmp3_UnpackSideInfo_34
   \   000008B4   00B060E2           RSB      R11,R0,#+0
   \   000008B8   0D00A0E1           MOV      R0,SP
   \   000008BC   ........           BL       RefillBitstreamCache
   \   000008C0   04009DE5           LDR      R0,[SP, #+4]
   \   000008C4   08209DE5           LDR      R2,[SP, #+8]
   \   000008C8   0B10A0E1           MOV      R1,R11
   \   000008CC   201061E2           RSB      R1,R1,#+32
   \   000008D0   304184E1           ORR      R4,R4,R0, LSR R1
   \   000008D4   0B2042E0           SUB      R2,R2,R11
   \   000008D8   08208DE5           STR      R2,[SP, #+8]
   \   000008DC   100BA0E1           LSL      R0,R0,R11
   \   000008E0   04008DE5           STR      R0,[SP, #+4]
   \                     ??xmp3_UnpackSideInfo_34:
   \   000008E4   24408AE5           STR      R4,[R10, #+36]
   \   000008E8   04009DE5           LDR      R0,[SP, #+4]
   \   000008EC   204EA0E1           LSR      R4,R0,#+28
   \   000008F0   0002A0E1           LSL      R0,R0,#+4
   \   000008F4   04008DE5           STR      R0,[SP, #+4]
   \   000008F8   08009DE5           LDR      R0,[SP, #+8]
   \   000008FC   040050E2           SUBS     R0,R0,#+4
   \   00000900   08008DE5           STR      R0,[SP, #+8]
   \   00000904   0B00005A           BPL      ??xmp3_UnpackSideInfo_35
   \   00000908   00B060E2           RSB      R11,R0,#+0
   \   0000090C   0D00A0E1           MOV      R0,SP
   \   00000910   ........           BL       RefillBitstreamCache
   \   00000914   04009DE5           LDR      R0,[SP, #+4]
   \   00000918   08209DE5           LDR      R2,[SP, #+8]
   \   0000091C   0B10A0E1           MOV      R1,R11
   \   00000920   201061E2           RSB      R1,R1,#+32
   \   00000924   304184E1           ORR      R4,R4,R0, LSR R1
   \   00000928   0B2042E0           SUB      R2,R2,R11
   \   0000092C   08208DE5           STR      R2,[SP, #+8]
   \   00000930   100BA0E1           LSL      R0,R0,R11
   \   00000934   04008DE5           STR      R0,[SP, #+4]
   \                     ??xmp3_UnpackSideInfo_35:
   \   00000938   34408AE5           STR      R4,[R10, #+52]
   \   0000093C   04009DE5           LDR      R0,[SP, #+4]
   \   00000940   A04EA0E1           LSR      R4,R0,#+29
   \   00000944   8001A0E1           LSL      R0,R0,#+3
   \   00000948   04008DE5           STR      R0,[SP, #+4]
   \   0000094C   08009DE5           LDR      R0,[SP, #+8]
   \   00000950   030050E2           SUBS     R0,R0,#+3
   \   00000954   08008DE5           STR      R0,[SP, #+8]
   \   00000958   0B00005A           BPL      ??xmp3_UnpackSideInfo_31
   \   0000095C   00B060E2           RSB      R11,R0,#+0
   \   00000960   0D00A0E1           MOV      R0,SP
   \   00000964   ........           BL       RefillBitstreamCache
   \   00000968   04009DE5           LDR      R0,[SP, #+4]
   \   0000096C   08209DE5           LDR      R2,[SP, #+8]
   \   00000970   0B10A0E1           MOV      R1,R11
   \   00000974   201061E2           RSB      R1,R1,#+32
   \   00000978   304184E1           ORR      R4,R4,R0, LSR R1
   \   0000097C   0B2042E0           SUB      R2,R2,R11
   \   00000980   08208DE5           STR      R2,[SP, #+8]
   \   00000984   100BA0E1           LSL      R0,R0,R11
   \   00000988   04008DE5           STR      R0,[SP, #+4]
   \                     ??xmp3_UnpackSideInfo_31:
   \   0000098C   38408AE5           STR      R4,[R10, #+56]
   \   00000990   10009DE5           LDR      R0,[SP, #+16]
   \   00000994   0000D0E5           LDRB     R0,[R0, #+0]
   \   00000998   000050E3           CMP      R0,#+0
   \   0000099C   43FEFF1A           BNE      ??xmp3_UnpackSideInfo_12
   \   000009A0   04009DE5           LDR      R0,[SP, #+4]
   \   000009A4   A04FA0E1           LSR      R4,R0,#+31
   \   000009A8   8000A0E1           LSL      R0,R0,#+1
   \   000009AC   04008DE5           STR      R0,[SP, #+4]
   \   000009B0   08009DE5           LDR      R0,[SP, #+8]
   \   000009B4   010050E2           SUBS     R0,R0,#+1
   \   000009B8   08008DE5           STR      R0,[SP, #+8]
   \   000009BC   3CFEFF5A           BPL      ??xmp3_UnpackSideInfo_13
   \   000009C0   00B060E2           RSB      R11,R0,#+0
   \   000009C4   0D00A0E1           MOV      R0,SP
   \   000009C8   ........           BL       RefillBitstreamCache
   \   000009CC   04009DE5           LDR      R0,[SP, #+4]
   \   000009D0   08209DE5           LDR      R2,[SP, #+8]
   \   000009D4   0B10A0E1           MOV      R1,R11
   \   000009D8   201061E2           RSB      R1,R1,#+32
   \   000009DC   304184E1           ORR      R4,R4,R0, LSR R1
   \   000009E0   0B2042E0           SUB      R2,R2,R11
   \   000009E4   08208DE5           STR      R2,[SP, #+8]
   \   000009E8   100BA0E1           LSL      R0,R0,R11
   \   000009EC   04008DE5           STR      R0,[SP, #+4]
   \   000009F0   2FFEFFEA           B        ??xmp3_UnpackSideInfo_13
    388          }
    389          

   Maximum stack usage in bytes:

     Function                 CSTACK
     --------                 ------
     RefillBitstreamCache         4
     xmp3_CalcBitsUsed            0
     xmp3_CheckPadBit             0
     xmp3_GetBits                16
     xmp3_SetBitstreamPointer     0
     xmp3_UnpackFrameHeader      32
     xmp3_UnpackSideInfo         64


   Segment part sizes:

     Function/Label           Bytes
     --------------           -----
     xmp3_SetBitstreamPointer   24
     RefillBitstreamCache      240
     xmp3_GetBits              112
     xmp3_CalcBitsUsed          24
     xmp3_CheckPadBit           36
     xmp3_UnpackFrameHeader    688
     xmp3_UnpackSideInfo      2548
      Others                    40

 
 3 712 bytes in segment CODE
 
 3 672 bytes of CODE memory (+ 40 bytes shared)

Errors: none
Warnings: 1
