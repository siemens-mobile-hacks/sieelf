
ELF名称: MySMSYS
作者: BingK(binghelingxi)
感谢: titron(smsman中部分关于sms/ems解析的代码)

其它信息:
    写作这个ELF的原因,大约是由于NEWSGOLD系统自带的短信系
统太慢了,虽然在功能上它是比较完善的,进而想到了用效率极高
的ELF重写一个短信系统,所需的函数基本已经完备,并在在开发
过程中找到了删除短信和设置为已读这两个极为重要的函数,以及
其它一些个重要的图形界面相关的函数.

    这是一个基于IPC工作的ELF!
    一些受系统限制的操作:快速删除,快速发多条短信等.
v1.9.1 2008.10.23
    1.通讯录数据不排序载入,加快速度
    2.新信息提示图标可以直接使用内置图标ID(十进制),PNG图片仍然支持
    3.加入容量统计
    4.未完全接收的信息不读取
    
v1.9 2008.10.21
    1.增加自定义文本字体
    2.修改了短信列表和查看界面的选项菜单,增强灵活性
      对于草稿,选项的第一个由回复改为发送,列表中按绿键为编辑
    3.使用新的删除函数,0x2AC,删除后不会在浏览器中留下空白短信
    4.直接调用系统通讯录选择号码,也可以将号码保存到通讯录
      依赖新函数0x2B3-0x2B9
    
v1.8.6 2008.10.17
    1.增加模板功能,模板使用txt文件,自行存放到\MySMSYS\Text\Template\
      目录下,中文版本,txt使用ANSI编码,英文版本,使用win1251编码
    2.保存草稿后直接退出编辑界面,可以在MySMSYS.bcfg中取消
    3.通讯录多号码选择标头栏显示名称修正,适合同时打开多个通讯录
    4.修正文件保存为草稿时,文件会被直接覆盖的问题
    
v1.8.5 2008.10.16
    1.信息报告支持
    2.信息报告自动删除,看完后删除
      可以在配置中关闭自动删除信息报告
    3.主菜单按1-9键,直接打开菜单中对应顺序的条目
    4.修正编辑界面按选项死机问题
    
v1.8.4 2008.10.15
    1.编辑Mss的草稿时,改"保存为草稿"为"保存",直接覆盖原文件
    2.修正查看短信时20字节的内存泄漏
    3.取消了所有批量删除机身短信的功能,可以批量删除的目前只
      能为已经保存为文件的短信,包括转存所有为文件,删除全部功
      能改为删除全部Mss(和1.7版本一样)
      
v1.8.3 2008.10.11
    1.取消查看档案柜文件夹中的Mss文件时选项菜单中的
      "移动到档案柜"选项
    2.改进是否有新短信判断,及对长短信是否已经完全接收的判断
    3.改进最新短信读取
    4.保存文件时如果文件已存在,自动重命名
    
v1.8 2008.10.10
    1.查找通讯录号码使用更精确的匹配方式
      对飞信号码做特殊处理,在名称后加上(飞信)
    2.增加将SMS.dat中的短信全部转换为Mss文件功能,
      但是可能会在浏览器中产生一些空白短信,但不影响短信容量
    3.修正俄文字符导出为ASCII编码TXT问题
      国外机型使用WIN1251编码
    4.查看文件时按左右键看上下一条
    5.第一个字母自动切换到大写输入法
    6.修改通讯录数据链表结构,减少内存占用,提高工作效率
    7.移动Mss文件改为移动全部信息
    8.增加全部删除功能
    9.每一个会话CSM都可以赋予自己的名称
    10.增加声音提醒,一定程度上可以保证其安全性
       如果来短信信时正在使用媒体播放器播放音乐,将停掉正在播放的这首歌
       然后播放短信提醒铃声,短信提醒铃声播放完毕之后,媒体播放器重
       新开始播放那首歌
       如果你喜欢使用一些ELF的播放器,而不是系统的媒体播放器,那么你最好
       关掉声音提醒功能,MySMSYS无法判断哪个Elf是否正处于播放状态,而开始
       播放自己的短信提醒铃声,可能会造成冲突死机
    11.增加短信列表图标
    12.后台CSM名称改为MssD,好看一些
    
v1.7 2008.10.07
    1.实现精确读取短信,使用了新函数0x82B1,0x2B2
    2.增加SMS.dat转换为TXT功能
    3.增加是否保存已发送短信配置开关
    4.修正移动全部Mss文件后列表未更新
    5.去掉了几个弹出窗口的图标,使之有更多的空间显示文字
    6.信息档案柜改为按月份存储
    7.修正Mss文件类型读取,以文件中记录为准
    8.新信息提醒Ems判断修正
    9.非中文通讯录搜索不区分大小写修正
    10.其它修正优化
    
v1.6 2008.10.05
    1.增加一条/全部短信导出为TXT功能,
      单条导出时默认文件夹: ...\MySMSYS\Text\
      可设置文本编码为ASCII或UTF8,默认使用UTF8
      短信列表中按8键将选中短信导出为TXT
    2.增加信息档案柜功能,文件夹: ...\MySMSYS\Archive\
      可以移动单条/全部短信到档案柜
      在其它菜单中可以直接打开文件管理器
      短信列表中按4键将选中短信移动到档案柜
    3.使用新的读取方式,可以保证各机型都适用,并有效避开空白短信
      但可能导致定位不准确
    4.增加其它菜单项,其中可以进行打开配置,导出全部为TXT,移动全部Mss
      文件到档案柜操作,及关于信息
    5.查看短信时无号码移动修正
    6.读取Pdu中号码修正
    7.检查新短信如果是ems,接收到最后一部分才提示
    8.Mss文件加入类型信息,以适应其存在于任何文件夹中
      但仍然兼容以前版本
    9.其它修正优化
    
v1.5 2008.10.03
    1.实现.mss文件关联,关联到MySMSYS.elf或MssLinker.elf均可
    2.有未查看短信时待机显示提示图标
    3.增强多个MySMSYS会话操作时的安全性
    4.优化代码,使用更高效的排序方法
    
v1.4 2008.10.01
    1.列表中按9键转存为文件
    2.查看短信时,如果短信还在手机内存,自动转存为文件,可以设置,
      默认开启此功能
    3.短信列表,查看短信界面按*键查看号码信息,显示区号
    4.修正关闭一个会话时短信清零问题
    5.增加从通讯录插入号码功能
    
v1.3 2008.09.30
    1.修正ems解析,修正短信排序
    2.使用MySMSYS.bcfg配置
      删除BROWSER_KILLER条件编译项,可以设置是否使用新信息弹出提示窗口
    3.优化短信查看界面,从前往后翻看
    4.使用SUBPROC方式读取通讯录,基本感觉不到读取通讯录的延迟了
    
v1.2 2008.09.27
    1.修正发出短信解析
    2.修正弹出窗口字体定义
    3.修正ELKA短信读取
    4.在输入号码位置无号码时左软键改为通讯录,可以直接进入通讯录选择号码
    
v1.1 2008.09.26
    1.修正EMS解析
    2.使用0x2B0:SetMenuSoftKey函数来这是菜单软键
    3.增加BROWSER_KILLER条件编译项
      刷过Browser Killer之后,新信息弹出窗口就没有了,
      使用msg 0x61CC(NEWSGOLD)来激活
    
v1.0 2008.09.24

    完成一些sms/ems解析,显示,发送,读取.
    实现基本功能.
    并提供了保存为文件的功能,直接从文件读取,保存草稿直接保存为文件
    编辑短信选择号码时可以打开通讯录列表选择.
    通讯录列表中可以搜索.
    第一次启动时,它将运行于后台,并以此为基础,根据接收到的
IPC消息启发相应的操作.
		
    第二次运行这个ELF时它将启动主菜单.
    你可以根据MySMS_ipc.h中定义的相关submsg,发送IPC来启动
里面的功能,所发送的IPC消息中,IPC_REQ的结构的name_to,name_from
均为MySMSYS,data则根据情况而有所不同,具体请看MySMS_ipc.h
    
    使用补丁替换的新信息弹出窗口,显示对方名称及区号秀,震动提醒,暂无
铃声提醒.

    通讯录在第一次启动图形界面时将被载入,以后更新通讯录依赖IPC.

快捷键操作: 
    在信息列表中,按7删除选中的短信,绿键回复选中的短信,
按9键转存光标所在条目为文件,*键查看号码信息,显示区号,按8将选中短信导出为TXT
按4将选中短信移动到档案柜
    查看短信界面,绿键回复短信,编辑短信界面,绿键发送短信,按左/右键可以
查看上/下一条短信,*键查看号码信息,显示区号


补丁部分:
补丁工作的基础,已经有MySMSYS运行于后台!!!
更新通讯录时,发送更新通讯录数据IPC,(目前还不支持通讯录删除后更新).
极速菜单信息菜单中,统计短信条数将把保存为文件的信息也算进去.
直接替换新信息弹出窗口.
多功能收件箱中,短信查看,回复,引用,转发均替换.
极速菜单中,收件箱,已发送,草稿,新建短信,替换.
通讯录,通话记录中发送短信,替换.
快捷方式,收件箱,已发送,草稿,新建短信,替换.
重要记事,任务,便笺,使用文字格式发送,替换.




